<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Welcome</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css?v=12" />
</head>
<body>
  <!-- Top: time + weather -->
  <div class="top-info" id="topInfo">
    <span id="time">--:--</span>
    <span class="dot">•</span>
    <span id="weather">Stirling — --°C</span>
  </div>

  <!-- Bottom overlay with title + intro + Wi-Fi -->
  <div class="overlay bottom">
    <div class="overlay-content">
      <h1 class="title">Welcome Amra & Marcus!</h1>
      <p class="intro">Welcome to 84 Cooperage Quay. We hope you have a pleasant stay.</p>
      <p class="wifi-pill"><span>Wi-Fi</span> Casa Del Stirling <span class="divider">|</span> <span>Pass</span> Welcome2Stirling!</p>
    </div>
  </div>

  <!-- Bottom row keeps both QR blocks perfectly level -->
  <div class="qr-row">
    <div class="qr left">
      <div class="qr-label">Scan for Local Guide</div>
      <div class="qr-box" aria-hidden="true">
        <!-- Placeholder QR (replace with <img src="qr-local.png" alt="">) -->
        <svg viewBox="0 0 120 120" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
          <rect width="120" height="120" fill="#fff"/>
          <rect x="6" y="6" width="32" height="32" fill="#000"/>
          <rect x="82" y="6" width="32" height="32" fill="#000"/>
          <rect x="6" y="82" width="32" height="32" fill="#000"/>
          <rect x="45" y="45" width="10" height="10" fill="#000"/>
          <rect x="60" y="60" width="12" height="12" fill="#000"/>
          <rect x="75" y="45" width="8" height="8" fill="#000"/>
          <rect x="45" y="75" width="8" height="8" fill="#000"/>
          <rect x="90" y="90" width="10" height="10" fill="#000"/>
        </svg>
      </div>
    </div>

    <div class="qr right">
      <!-- Forced to 2 lines exactly -->
      <div class="qr-label">Message us on<br>WhatsApp</div>
      <div class="qr-box" aria-hidden="true">
        <!-- Placeholder QR (replace with <img src="qr-whatsapp.png" alt="">) -->
        <svg viewBox="0 0 120 120" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
          <rect width="120" height="120" fill="#fff"/>
          <rect x="6" y="6" width="32" height="32" fill="#000"/>
          <rect x="82" y="6" width="32" height="32" fill="#000"/>
          <rect x="6" y="82" width="32" height="32" fill="#000"/>
          <rect x="48" y="30" width="8" height="8" fill="#000"/>
          <rect x="60" y="50" width="10" height="10" fill="#000"/>
          <rect x="72" y="68" width="8" height="8" fill="#000"/>
          <rect x="52" y="80" width="12" height="12" fill="#000"/>
          <rect x="88" y="90" width="8" height="8" fill="#000"/>
        </svg>
      </div>
    </div>
  </div>

  <script>
  // --- Live time (local) ---
  function formatTime(d) {
    const hh = String(d.getHours()).padStart(2,'0');
    const mm = String(d.getMinutes()).padStart(2,'0');
    return `${hh}:${mm}`;
  }
  function updateTime() {
    document.getElementById('time').textContent = formatTime(new Date());
  }
  updateTime();
  setInterval(updateTime, 30 * 1000);

  // --- Weather via Open-Meteo (Stirling coords) ---
  const WMO = {
    0:'Clear',1:'Mainly clear',2:'Partly cloudy',3:'Cloudy',
    45:'Fog',48:'Rime fog',51:'Drizzle',53:'Drizzle',55:'Drizzle',
    56:'Freezing drizzle',57:'Freezing drizzle',
    61:'Rain',63:'Rain',65:'Heavy rain',
    66:'Freezing rain',67:'Freezing rain',
    71:'Snow',73:'Snow',75:'Heavy snow',
    77:'Snow grains',80:'Showers',81:'Showers',82:'Heavy showers',
    85:'Snow showers',86:'Snow showers',
    95:'Thunder',96:'Thunder',99:'Thunder'
  };
  async function updateWeather(){
    try{
      const url = 'https://api.open-meteo.com/v1/forecast?latitude=56.1165&longitude=-3.9369&current=temperature_2m,weather_code&timezone=auto';
      const res = await fetch(url, { cache: 'no-store' });
      const data = await res.json();
      const t = Math.round(data?.current?.temperature_2m ?? NaN);
      const code = data?.current?.weather_code;
      const desc = WMO[code] || 'Weather';
      if(!Number.isNaN(t)){
        document.getElementById('weather').textContent = `Stirling — ${t}°C, ${desc}`;
      }
    }catch(e){
      /* silent fail; keep placeholder */
    }
  }
  updateWeather();
  // refresh hourly
  setInterval(updateWeather, 60 * 60 * 1000);
  </script>
</body>
</html>
